{"version":3,"sources":["../src/util.js"],"names":["parse","require","print","getTypeField","root","key","type","ofType","getTypeFilter","kinds","x","isDeprecated","kind","includes","resolveFieldTree","depth","map","maxDepth","fields","scalarFields","filter","name","scalar","Boolean","objectFields","subType","args","reduce","arg","unionFields","possibleTypes","t","sort","a","b","object","union","shouldIgnore","fieldPath","blackList","some","RegExp","test","makeQuery","ignoreFields","argValues","path","localeCompare","join","Array","isArray","length","argStr","Object","keys","formatArgs","selection","trim","subQueryStr","values","specs","Error","missingArgs","isRequiredMissing","isMissing","push","message","toString","formatScalarArg","value","v","formatArg","spec","result","console","error","addFieldsPath","prefix","forEach","extractArgSpecs","types","obj","inputFields","acc","f","subName","subKind","subSpecs","getGraphQLBuilders","rootName","startsWith","query","mutation","subscription","fns","argSpecs","globalIgnore","fn","_ignoreFields","concat","queryStr","err","getQueryBuilders","getMutationBuilders","getSubscriptionBuilders","fakeMessage","fieldSource","fakeField","field","Date","toISOString","enumValues","module","exports"],"mappings":"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","sourcesContent":["const { parse } = require('graphql/language/parser');\nconst { print } = require('graphql/language/printer');\n\nconst getTypeField = (root, key) => {\n  if (root.type.ofType) {\n    if (root.type.ofType.ofType) {\n      return root.type.ofType.ofType[key];\n    }\n\n    return root.type.ofType[key];\n  }\n\n  return root.type[key] || root[key];\n};\n\n/**\n * Make a field filter fn\n *\n * @param {*} kind\n */\nconst getTypeFilter = kinds => x => {\n  if (x.isDeprecated) {\n    return false;\n  }\n\n  const kind = getTypeField(x, 'kind');\n  return kinds.includes(kind);\n};\n\n/**\n * get fields and its dependencies based on schema\n *\n * @param {*} type\n * @param {*} depth\n * @param {*} map\n * @returns\n */\nconst resolveFieldTree = (type, depth, map, maxDepth) => {\n  const { fields } = type;\n  const scalarFields = (fields || [])\n    .filter(getTypeFilter(['SCALAR', 'ENUM']))\n    .map(x => ({ name: x.name, kind: x.kind }));\n\n  if (depth >= maxDepth) {\n    return { scalar: scalarFields.filter(x => Boolean(x.name)) };\n  }\n\n  const objectFields = (fields || []).filter(getTypeFilter(['OBJECT'])).map(x => {\n    const subType = getTypeField(x, 'name');\n    const kind = getTypeField(x, 'kind');\n    return {\n      type: kind,\n      name: x.name,\n      args: (x.args || []).reduce((args, arg) => {\n        args[arg.name] = arg;\n        return args;\n      }, {}),\n      fields: resolveFieldTree(map[subType], depth + 1, map, maxDepth),\n    };\n  });\n\n  const unionFields = (fields || []).filter(getTypeFilter(['UNION'])).map(x => {\n    const subType = getTypeField(x, 'name');\n    return {\n      type: x.type.kind,\n      name: x.name,\n      possibleTypes: map[subType].possibleTypes.map(t => ({\n        name: t.name,\n        fields: resolveFieldTree(map[t.name], depth + 1, map, maxDepth),\n      })),\n    };\n  });\n\n  scalarFields.sort((a, b) => a.name - b.name);\n  objectFields.sort((a, b) => a.name - b.name);\n  unionFields.sort((a, b) => a.name - b.name);\n\n  return {\n    scalar: scalarFields,\n    object: objectFields,\n    union: unionFields,\n  };\n};\n\nconst shouldIgnore = (fieldPath, blackList) => {\n  return blackList.some(x => (x instanceof RegExp ? x.test(fieldPath) : x === fieldPath));\n};\n\n/**\n * make graphql query string based on field list\n *\n * @param {*} fields\n * @param {*} ignoreFields\n * @returns string\n */\n/* eslint-disable indent */\nconst makeQuery = (fields, ignoreFields, argValues = {}) => `\n  ${fields.scalar\n    .filter(x => shouldIgnore(x.path, ignoreFields) === false)\n    .sort((a, b) => a.name.localeCompare(b.name))\n    .map(x => x.name)\n    .join('\\n')}\n  ${\n    Array.isArray(fields.object)\n      ? fields.object\n          .filter(\n            x =>\n              (x.fields.scalar || []).length ||\n              (x.fields.object || []).length ||\n              (x.fields.union || []).length\n          )\n          .filter(x => shouldIgnore(x.path, ignoreFields) === false)\n          .sort((a, b) => a.name.localeCompare(b.name))\n          .map(x => {\n            const argStr = Object.keys(x.args).length\n              ? `${formatArgs(argValues[x.path] || {}, x.args)}`\n              : '';\n            const selection = makeQuery(x.fields, ignoreFields, argValues).trim();\n            const subQueryStr = `${x.name} ${argStr ? `(${argStr})` : ''} ${\n              selection ? `{${selection}}` : ''\n            }`;\n\n            return subQueryStr;\n          })\n          .join('\\n')\n      : ''\n  }\n  ${\n    Array.isArray(fields.union) && fields.union.filter(x => x.possibleTypes.length).length\n      ? fields.union\n          .filter(x => x.possibleTypes.length)\n          .filter(x => shouldIgnore(x.path, ignoreFields) === false)\n          .sort((a, b) => a.name.localeCompare(b.name))\n          .map(x => {\n            const subQueryStr = `${x.name} {\n              __typename\n              ${x.possibleTypes.filter(t => !ignoreFields.includes(t.name)).map(\n                t => `... on ${t.name} {\n                ${makeQuery(t.fields, ignoreFields, argValues).trim()}\n              }`\n              )}\n            }`;\n\n            return subQueryStr;\n          })\n          .join('\\n')\n      : ''\n  }\n  `;\n/* eslint-enable indent */\n\n/**\n * assemble graphql params\n *\n * @param {*} values\n * @param {*} specs\n * @returns string\n */\nconst formatArgs = (values, specs = {}) => {\n  if (!values) {\n    throw new Error('Empty args when generating graphql query');\n  }\n\n  const missingArgs = [];\n  const isRequiredMissing = Object.keys(specs).some(x => {\n    const isMissing =\n      getTypeField(specs[x], 'kind') === 'NON_NULL' && typeof values[x] === 'undefined';\n    if (isMissing) {\n      missingArgs.push(x);\n    }\n\n    return isMissing;\n  });\n  if (isRequiredMissing) {\n    const message = `Missing required args {${missingArgs.toString()}} when generating query`;\n    // console.error(message, values, specs); // eslint-disable-line\n    throw new Error(message);\n  }\n\n  const formatScalarArg = (type, value) => {\n    // console.log('formatScalarArg', { type, value });\n    if (Array.isArray(value)) {\n      return `[${value.map(v => formatScalarArg(type, v)).join(',')}]`;\n    }\n\n    if (['String', 'DateTime', 'ID', 'HexString'].includes(type)) {\n      return `\"${value.toString()}\"`;\n    }\n\n    if (['BigNumber', 'Int', 'Float', 'Long', 'Boolean'].includes(type)) {\n      return value;\n    }\n\n    return value.toString();\n  };\n\n  const formatArg = (value, spec) => {\n    const type = getTypeField(spec, 'name');\n    const kind = getTypeField(spec, 'kind');\n    const fields = getTypeField(spec, 'fields');\n\n    let result = '';\n    if (spec.kind === 'LIST') {\n      result = `[${value\n        .map(v => {\n          if (kind === 'SCALAR') {\n            return formatScalarArg(type, v);\n          }\n          if (fields) {\n            return `{${formatArgs(v, fields)}}`;\n          }\n\n          // eslint-disable-next-line\n          console.error('formatArgs: unrecognized type in list', spec.ofType);\n        })\n        .join(',')}]`;\n    } else if (spec.type.kind === 'LIST') {\n      result = `[${value\n        .map(v => {\n          if (spec.type.ofType.kind === 'SCALAR') {\n            return formatScalarArg(spec.type.ofType.name, v);\n          }\n          if (spec.type.ofType.fields) {\n            return `{${formatArgs(v, spec.type.ofType.fields)}}`;\n          }\n\n          if (kind === 'SCALAR') {\n            return formatScalarArg(type, v);\n          }\n          if (fields) {\n            return `{${formatArgs(v, fields)}}`;\n          }\n\n          // eslint-disable-next-line\n          console.error('formatArgs: unrecognized type in list', spec.ofType);\n        })\n        .join(',')}]`;\n    } else if (kind === 'SCALAR') {\n      result = formatScalarArg(type, value);\n    } else if (kind === 'ENUM') {\n      result = value;\n    } else if (kind === 'INPUT_OBJECT') {\n      result = `{${formatArgs(value, fields)}}`;\n    }\n\n    return result;\n  };\n\n  return Object.keys(values || {})\n    .filter(x => specs[x])\n    .map(x => `${x}: ${formatArg(values[x], specs[x])}`)\n    .join(', ');\n};\n\n/**\n * Add path for nested objects\n *\n * @param {*} fields\n * @param {string} [prefix='']\n */\nconst addFieldsPath = (fields, prefix = '') => {\n  if (Array.isArray(fields.scalar)) {\n    fields.scalar.forEach(x => {\n      x.path = [prefix, x.name].filter(Boolean).join('.');\n    });\n  }\n\n  if (Array.isArray(fields.object)) {\n    fields.object.forEach(x => {\n      x.path = [prefix, x.name].filter(Boolean).join('.');\n      addFieldsPath(x.fields, x.path);\n    });\n  }\n\n  if (Array.isArray(fields.union)) {\n    fields.union.forEach(x => {\n      x.path = [prefix, x.name].filter(Boolean).join('.');\n    });\n  }\n};\n\n/**\n * Extract nested argument specs, that can be used when formatting arguments\n *\n * @param {*} args\n * @param {*} types\n * @returns Object\n */\nconst extractArgSpecs = (args, types) => {\n  return args.reduce((obj, x) => {\n    obj[x.name] = x;\n    const name = getTypeField(x, 'name');\n    const kind = getTypeField(x, 'kind');\n\n    if (kind === 'INPUT_OBJECT' && Array.isArray(types[name].inputFields)) {\n      x.fields = types[name].inputFields.reduce((acc, f) => {\n        acc[f.name] = f;\n        const subName = getTypeField(f, 'name');\n        const subKind = getTypeField(f, 'kind');\n\n        if (subKind === 'INPUT_OBJECT') {\n          const subSpecs = extractArgSpecs(types[subName].inputFields, types);\n          if (f.type.kind === 'LIST') {\n            acc[f.name].type.ofType.fields = subSpecs;\n          } else {\n            acc[f.name].type.fields = subSpecs;\n          }\n        }\n\n        return acc;\n      }, {});\n    }\n    return obj;\n  }, {});\n};\n\n/**\n * generate methods for all queries found on RootQueryType\n *\n * @param {*} { types, rootName, ignoreFields, type }\n * @returns <queryName => queryGeneratorFn>\n */\nconst getGraphQLBuilders = ({ types, rootName, ignoreFields, type, maxDepth = 4 }) => {\n  const map = types.reduce((map, x) => {\n    if (x.name.startsWith('__') === false) {\n      map[x.name] = x;\n    }\n    return map;\n  }, {});\n\n  const prefix = {\n    query: '',\n    mutation: 'mutation',\n    subscription: 'subscription',\n  }[type];\n\n  return map[rootName].fields.reduce((fns, x) => {\n    const fields = resolveFieldTree(map[x.type.name], 0, map, maxDepth || 4);\n\n    addFieldsPath(fields);\n\n    const argSpecs = extractArgSpecs(x.args, map);\n    const globalIgnore = typeof ignoreFields === 'function' ? ignoreFields(x) : ignoreFields || [];\n\n    /* eslint-disable indent */\n    const fn = (argValues = {}, _ignoreFields = []) => {\n      // console.log(require('util').inspect(argSpecs, { depth: 8 }));\n\n      const argStr = x.args.length ? `${formatArgs(argValues, argSpecs)}` : '';\n      const selection = makeQuery(\n        fields,\n        [].concat(_ignoreFields || []).concat(globalIgnore),\n        argValues\n      ).trim();\n\n      const queryStr = `${prefix}{${x.name}${argStr ? `(${argStr})` : ''}${\n        selection ? `{${selection}}` : ''\n      }}`;\n\n      try {\n        return print(parse(queryStr));\n      } catch (err) {\n        // eslint-disable-next-line\n        console.error('GraphQLBuilder Error:', queryStr);\n        throw err;\n      }\n    };\n    /* eslint-enable indent */\n\n    fn.args = argSpecs;\n    fns[x.name] = fn;\n    return fns;\n  }, {});\n};\n\nconst getQueryBuilders = ({ types, rootName, ignoreFields, maxDepth }) =>\n  getGraphQLBuilders({ types, rootName, ignoreFields, maxDepth, type: 'query' });\n\nconst getMutationBuilders = ({ types, rootName, ignoreFields, maxDepth }) =>\n  getGraphQLBuilders({ types, rootName, ignoreFields, maxDepth, type: 'mutation' });\n\nconst getSubscriptionBuilders = ({ types, rootName, ignoreFields, maxDepth }) =>\n  getGraphQLBuilders({ types, rootName, ignoreFields, maxDepth, type: 'subscription' });\n\n/**\n * Generate a fake query arg object, or fake response object\n *\n * @param {object} spec - the spec of the object to fake\n * @param {object} types - the whole type tree from graphql schema\n * @param {string} [fieldSource='inputFields']\n * @returns {object} the fake message\n */\nconst fakeMessage = (spec, types, fieldSource = 'inputFields') => {\n  const args = {};\n  if (!Array.isArray(spec[fieldSource])) {\n    return fakeField(spec, types, fieldSource);\n  }\n\n  spec[fieldSource].forEach(x => {\n    // If list, we do not force it to be NON_NULL\n    // prettier-ignore\n    switch (x.type.kind) {\n    case 'LIST':\n      args[x.name] = [fakeMessage(types[x.type.ofType.name], types, fieldSource)];\n      break;\n    case 'SCALAR':\n      args[x.name] = fakeField(x.type, types, fieldSource);\n      break;\n    case 'NON_NULL':\n      args[x.name] = fakeField(x.type.ofType, types, fieldSource);\n      break;\n    case 'OBJECT':\n      args[x.name] = fakeField(types[x.type.name], types, fieldSource);\n      break;\n    case 'ENUM':\n      args[x.name] = fakeField(types[x.type.name], types, fieldSource);\n      break;\n    default:\n      break;\n    }\n  });\n\n  // HACK: required here for single list\n  const keys = Object.keys(args);\n  if (keys.length === 1 && Array.isArray(args[keys[0]])) {\n    return args[keys[0]];\n  }\n\n  return args;\n};\n\nconst fakeField = (field, types, fieldSource) => {\n  if (['String', 'HexString'].includes(field.name)) {\n    return 'abc';\n  }\n  if (field.name === 'Boolean') {\n    return true;\n  }\n  if (field.name === 'DateTime') {\n    return new Date('2019-04-29').toISOString();\n  }\n  if (['BigNumber', 'Int', 'Float', 'Long'].includes(field.name)) {\n    return 123;\n  }\n  if (field.kind === 'ENUM') {\n    return field.enumValues[0].name;\n  }\n  if (['INPUT_OBJECT', 'OBJECT'].includes(field.kind)) {\n    return fakeMessage(types[field.name], types, fieldSource);\n  }\n};\n\nmodule.exports = {\n  getQueryBuilders,\n  getMutationBuilders,\n  getSubscriptionBuilders,\n  getGraphQLBuilders,\n  getTypeFilter,\n  resolveFieldTree,\n  makeQuery,\n  extractArgSpecs,\n  formatArgs,\n  fakeMessage,\n  fakeField,\n};\n"],"file":"util.js"}